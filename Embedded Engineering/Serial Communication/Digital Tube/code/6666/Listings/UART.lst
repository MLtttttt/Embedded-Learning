C51 COMPILER V9.60.7.0   UART                                                              02/27/2026 19:35:08 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\UART.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE UART.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\UART
                    -.lst) TABS(2) OBJECT(.\Objects\UART.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          /**
   4            * @brief  UART模块的初始化
   5            * @param   None
   6            * @retval  None
   7            */
   8          void UART_Init()//4800bps 12.000MHz
   9          {
  10   1          SCON=0x50;   //八位数据,用于发送和接收
  11   1          PCON |=0x80; //波特率倍速
  12   1          TMOD &=0x0F; //清除定时器1模式位
  13   1          TMOD |=0x20; //设置定时器1为8为自动重装方式
  14   1          TL1=0xF3;    //设定定时初值 
  15   1          TH1=0xF3;    //设置定时器重装值
  16   1          ET1=0;       //禁止定时器1中断
  17   1          TR1=1;       //启动定时器1
  18   1          EA=1;        //打开总中断开关
  19   1          ES=1;        //打开串口中断
  20   1      }
  21          
  22          
  23          /**
  24            * @brief  串口发送一个字节
  25            * @param   Byte(要发送的字节)
  26            * @retval  None
  27            */
  28          void UART_SendByte(unsigned char Byte)
  29          {
  30   1          SBUF=Byte;
  31   1          while(TI==0);
  32   1          TI=0;
  33   1      }
  34          
  35          
  36          /**
  37            * @brief  串口发送字符串
  38            * @param   str(要发送的字符串)
  39            * @retval  None
  40            */
  41          void UART_SendString(unsigned char *str) 
  42          {
  43   1          while(*str!='\0')     //判断字符串截止位则退出
  44   1        {
  45   2          UART_SendByte(*str);  
  46   2          str++;
  47   2        }
  48   1      }
  49          
  50          
  51          /**
  52            * @brief  发送换行(回车+换行)
  53            * @param   None
  54            * @retval  None
C51 COMPILER V9.60.7.0   UART                                                              02/27/2026 19:35:08 PAGE 2   

  55            */
  56          void UART_SendNewLine() 
  57          {
  58   1          UART_SendByte('\r');  // 回车
  59   1          UART_SendByte('\n');  // 换行
  60   1      }
  61          
  62          
  63          /**
  64            * @brief  串口中断函数模板
  65            * @param   None
  66            * @retval  None
  67            */
  68          //void UART_Rountine() interrupt 4
  69          //{
  70          // 
  71          //  
  72          //}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     64    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
